<div class="dashboard-container">
  <div class="dashboard-header">
    <div>
      <h1>Dashboard de Gastronomía</h1>
      <p>Vista general de la gestión de restaurantes</p>
    </div>
    <a routerLink="/admin/home" class="btn-secondary">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
      </svg>
      Volver al inicio
    </a>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando datos...</p>
  </div>

  <!-- Dashboard Content -->
  <div *ngIf="!loading">
    <!-- Stats Grid -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon" style="background: #dbeafe;">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#2563eb" d="M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"/>
          </svg>
        </div>
        <div class="stat-content">
          <p class="stat-label">Total Establecimientos</p>
          <p class="stat-value">{{ stats.totalEstablecimientos }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon" style="background: #fef3c7;">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#f59e0b" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
          </svg>
        </div>
        <div class="stat-content">
          <p class="stat-label">Pendientes de Aprobación</p>
          <p class="stat-value">{{ stats.pendientesAprobacion }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon" style="background: #e0e7ff;">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#6366f1" d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"/>
          </svg>
        </div>
        <div class="stat-content">
          <p class="stat-label">Solicitudes Pendientes</p>
          <p class="stat-value">{{ stats.solicitudesPendientes }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon" style="background: #d1fae5;">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#10b981" d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
          </svg>
        </div>
        <div class="stat-content">
          <p class="stat-label">Reservas Activas</p>
          <p class="stat-value">{{ stats.reservasActivas }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon" style="background: #fce7f3;">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#ec4899" d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
          </svg>
        </div>
        <div class="stat-content">
          <p class="stat-label">Reservas Hoy</p>
          <p class="stat-value">{{ stats.reservasHoy }}</p>
        </div>
      </div>
    </div>

    <!-- Content Grid -->
    <div class="content-grid">
      <!-- Establecimientos Pendientes -->
      <div class="card">
        <div class="card-header">
          <h2>Pendientes de Aprobación</h2>
          <a routerLink="/admin/gastronomia/establecimientos" class="link">Ver todos</a>
        </div>
        <div class="card-body">
          <div *ngIf="pendingEstablecimientos.length === 0" class="empty-state">
            <svg viewBox="0 0 24 24" width="48" height="48">
              <path fill="#9ca3af" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
            <p>No hay establecimientos pendientes</p>
          </div>

          <div *ngFor="let establecimiento of pendingEstablecimientos" class="list-item">
            <div class="list-item-content">
              <h3>{{ establecimiento.nombre }}</h3>
              <p class="text-sm">{{ establecimiento.direccion }}</p>
            </div>
            <span class="badge badge-warning">Pendiente</span>
          </div>
        </div>
      </div>

      <!-- Últimos Establecimientos -->
      <div class="card">
        <div class="card-header">
          <h2>Últimos Establecimientos</h2>
          <a routerLink="/admin/gastronomia/establecimientos" class="link">Ver todos</a>
        </div>
        <div class="card-body">
          <div *ngIf="recentEstablecimientos.length === 0" class="empty-state">
            <svg viewBox="0 0 24 24" width="48" height="48">
              <path fill="#9ca3af" d="M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"/>
              </svg>
            <p>No hay establecimientos registrados</p>
          </div>

          <div *ngFor="let establecimiento of recentEstablecimientos" class="list-item">
            <div class="list-item-content">
              <h3>{{ establecimiento.nombre }}</h3>
              <p class="text-sm">{{ establecimiento.direccion }}</p>
            </div>
            <span 
              class="badge" 
              [ngClass]="{
                'badge-success': establecimiento.estado === 'Aprobado',
                'badge-warning': establecimiento.estado === 'Pendiente',
                'badge-error': establecimiento.estado === 'Rechazado'
              }"
            >
              {{ establecimiento.estado }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <h2>Acciones Rápidas</h2>
      <div class="actions-grid">
        <a routerLink="/admin/gastronomia/establecimientos" class="action-card">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"/>
          </svg>
          <span>Gestionar Establecimientos</span>
        </a>

        <a routerLink="/admin/gastronomia/reservas" class="action-card">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
          </svg>
          <span>Ver Reservas</span>
        </a>

        <a routerLink="/admin/gastronomia/solicitudes" class="action-card">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"/>
          </svg>
          <span>Solicitudes de Oferentes</span>
        </a>

        <a routerLink="/admin/gastronomia/oferentes" class="action-card">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
          </svg>
          <span>Gestionar Oferentes</span>
        </a>

        <a routerLink="/admin/gastronomia/notificaciones" class="action-card">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
          </svg>
          <span>Notificaciones</span>
        </a>
      </div>
    </div>
  </div>
</div>
