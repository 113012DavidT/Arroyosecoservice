<div class="form-container">
  <h2>{{ isEdit ? 'Editar' : 'Nuevo' }} Restaurante</h2>

  <form (ngSubmit)="submit()">
    <div class="form-group">
      <label for="nombre">Nombre *</label>
      <input 
        type="text" 
        id="nombre" 
        [(ngModel)]="establecimiento.nombre" 
        name="nombre"
        required
        placeholder="Ej: La Trattoria" />
    </div>

    <div class="form-group">
      <label for="ubicacion">Ubicaci√≥n *</label>
      <input 
        type="text" 
        id="ubicacion" 
        [(ngModel)]="establecimiento.ubicacion" 
        name="ubicacion"
        required
        placeholder="Ej: Centro Hist√≥rico" />
    </div>

    <div class="form-group" style="grid-column: span 2;">
      <label>üìç Marcar en el mapa (opcional pero recomendado)</label>
      <app-map-picker 
        [latitud]="establecimiento.latitud" 
        [longitud]="establecimiento.longitud"
        (locationSelected)="onLocationSelected($event)">
      </app-map-picker>
    </div>

    <div class="form-group">
      <label for="descripcion">Descripci√≥n</label>
      <textarea 
        id="descripcion" 
        [(ngModel)]="establecimiento.descripcion" 
        name="descripcion"
        rows="4"
        placeholder="Describe tu restaurante..."></textarea>
    </div>

    <div class="form-group">
      <label for="foto">URL de Foto Principal</label>
      <input 
        type="text" 
        id="foto" 
        [(ngModel)]="establecimiento.fotoPrincipal" 
        name="foto"
        placeholder="/comprobantes/fotos/abc123.jpg" />
      <small>Sube la imagen usando el endpoint /api/Storage/upload?folder=fotos</small>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="submitting" class="btn-submit">
        {{ submitting ? 'Guardando...' : (isEdit ? 'Actualizar' : 'Crear') }}
      </button>
      <a routerLink="/oferente/gastronomia/establecimientos" class="btn-cancel">
        Cancelar
      </a>
    </div>
  </form>
</div>
